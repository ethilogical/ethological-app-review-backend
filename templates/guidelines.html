<script>
const modify = (name, delta) => {
    const hiddenInput = document.querySelector(`input[name='${name}']`)
    hiddenInput.value = parseInt(hiddenInput.value,10) + delta
    const countLabel = document.querySelector(`label[for='${name}'] .count-value`)
    const countLabelChildren = countLabel.children
    countLabel.textContent = hiddenInput.value
    countLabel.children = countLabelChildren
}
</script>
{% macro guideline(i, href, content) -%}
<li class="guideline">
    <div class="row">
        <div class="col-xl-6">
            {{ content }} <a href="{{ href }}" target="_blank" rel="noopener noreferrer"><i class="fas fa-external-link-alt"></i></a>
        </div>
        <div class="col-xl">
            <div class="btn-group btn-group-lg guideline-count" id="guideline-count-up-{{ i }}">
                <button type="button" class="btn btn-warning" data-toggle="button" aria-pressed="false"
                    autocomplete="off" onclick="modify('guideline-count-up-{{ i }}', -1)">-</button>
                <button type="button" class="btn btn-info" data-toggle="button" aria-pressed="false"
                    autocomplete="off" onclick="modify('guideline-count-up-{{ i }}', 1)">+</button>
            </div>
            <input type="hidden" name="guideline-count-up-{{ i }}" value="0">
            <label class="count text-success" for="guideline-count-up-{{ i }}"><span class="count-value">0</span><i class="fas fa-thumbs-up"></i></label>
            <div class="btn-group btn-group-lg guideline-count" id="guideline-count-down-{{ i }}">
                <button type="button" class="btn btn-warning" data-toggle="button" aria-pressed="false"
                    autocomplete="off" onclick="modify('guideline-count-down-{{ i }}', -1)">-</button>
                <button type="button" class="btn btn-info" data-toggle="button" aria-pressed="false"
                    autocomplete="off" onclick="modify('guideline-count-down-{{ i }}', 1)">+</button>
            </div>
            <input type="hidden" name="guideline-count-down-{{ i }}" value="0">
            <label class="count text-danger" for="guideline-count-down-{{ i }}"><span class="count-value">0</span><i class="fas fa-thumbs-down"></i></label>
        </div>
    </div>
</li>
{%- endmacro %}

<ol>
    {{ guideline(1,"https://www.acm.org/code-of-ethics#h-1.1-contribute-to-society-and-to-human-well-being,-acknowledging-that-all-people-are-stakeholders-in-computing.", "Contributes to society and to human well-being.")}}

    {{ guideline(2,"https://www.acm.org/code-of-ethics#h-1.2-avoid-harm.", "Avoids harm.") }}
    {{ guideline(3,"https://www.acm.org/code-of-ethics#h-1.3-be-honest-and-trustworthy.", "Is honest and trustworthy.") }}
    {{ guideline(4,"https://www.acm.org/code-of-ethics#h-1.4-be-fair-and-take-action-not-to-discriminate.", "Is fair and takes action not to discriminate.") }}
    {{ guideline(5,"https://www.acm.org/code-of-ethics#h-1.5-respect-the-work-required-to-produce-new-ideas,-inventions,-creative-works,-and-computing-artifacts.", "Respects the work required to produce new ideas, inventions, creative works, and computing artifacts.") }}
    {{ guideline(6,"https://www.acm.org/code-of-ethics#h-1.6-respect-privacy.", "Respects privacy.") }}
    {{ guideline(7,"https://www.acm.org/code-of-ethics#h-1.7-honor-confidentiality.", "Honors confidentiality.") }}

</ol>